<section dir="rtl" class="mx-auto max-w-[1100px] px-3 md:px-6 py-6">
  <!-- HERO -->
  <header class="rounded-3xl border border-black/5 shadow-sm overflow-hidden bg-white">
    <div class="p-5 md:p-8 bg-gradient-to-br from-orange-500/10 via-sky-500/10 to-emerald-500/10">
      <div class="inline-flex items-center gap-2 rounded-full bg-white/80 border border-black/10 px-3 py-2 font-extrabold text-slate-800">
        <i class="pi pi-sparkles text-purple-500"></i>
        <span>{{ chapterNo }}</span>
      </div>

      <h1 class="mt-4 text-[28px] md:text-[44px] font-extrabold text-slate-900 leading-tight">
        {{ title }}
      </h1>

      <div class="mt-2 text-slate-700/80 font-bold">
        {{ subtitle }} ‚Ä¢ <span class="font-extrabold">{{ tagline }}</span>
      </div>

      <p class="mt-4 text-slate-800/80 leading-8 font-semibold max-w-[980px]">
        {{ intro }}
      </p>

      <div class="mt-5 flex flex-wrap gap-2">
        <span
          *ngFor="let b of heroBullets"
          class="inline-flex items-center gap-2 rounded-full px-3 py-1.5
                 bg-white/85 border border-black/10 text-slate-800 font-extrabold text-[13px]"
        >
          <span class="w-2 h-2 rounded-full bg-emerald-500/60"></span>
          {{ b }}
        </span>
      </div>
    </div>
  </header>

  <!-- DEFINITION + TYPES -->
  <div class="mt-4 row ">
    <!-- Definition card -->
    <article class="rounded-3xl bg-white border border-black/5 shadow-sm p-5 md:p-6 mb-3">
      <div class="flex items-start gap-3">
        <div class="w-11 h-11 rounded-2xl grid place-items-center bg-sky-500/10 border border-sky-500/15 shrink-0">
          <i class="pi pi-info-circle text-sky-600"></i>
        </div>
        <div>
          <h2 class="m-0 text-[18px] md:text-[20px] font-extrabold text-slate-900">
            {{ definitionTitle }}
          </h2>
          <p class="mt-2 text-slate-800/80 leading-8 font-semibold">
            {{ definitionText }}
          </p>

          <div class="mt-3 flex flex-wrap gap-2">
            <span
              *ngFor="let t of definitionTags"
              class="rounded-full px-3 py-1.5 text-[13px] font-extrabold
                     bg-emerald-500/10 border border-emerald-500/15 text-slate-900"
            >
              {{ t }}
            </span>
          </div>
        </div>
      </div>
    </article>

    <!-- Types card -->
    <article class="rounded-3xl bg-white border border-black/5 shadow-sm p-5 md:p-6">
      <div class="flex items-start gap-3">
        <div class="w-11 h-11 rounded-2xl grid place-items-center bg-rose-500/10 border border-rose-500/15 shrink-0">
          <i class="pi pi-sitemap text-rose-600"></i>
        </div>
        <div class="w-full">
          <h2 class="m-0 text-[18px] md:text-[20px] font-extrabold text-slate-900">
            {{ typesTitle }}
          </h2>

          <div class="mt-3 space-y-3">
            <div
              *ngFor="let t of downTypes"
              class="rounded-2xl border border-black/5 bg-slate-900/[0.02] p-4"
            >
              <div class="font-extrabold text-slate-900">{{ t.name }}</div>
              <ul class="mt-2 space-y-1.5 text-slate-800/80 font-semibold leading-7">
                <li *ngFor="let p of t.points" class="flex gap-2">
                  <span class="mt-2 w-2 h-2 rounded-full bg-rose-500/50 shrink-0"></span>
                  <span>{{ p }}</span>
                </li>
              </ul>
            </div>

            <div class="rounded-2xl bg-amber-500/10 border border-amber-500/15 p-4 font-extrabold text-slate-900">
              {{ typesNote }}
            </div>
          </div>
        </div>
      </div>
    </article>
  </div>

  <!-- TIMELINE -->
  <section class="mt-4 rounded-3xl bg-white border border-black/5 shadow-sm p-5 md:p-6">
    <div class="flex items-center gap-2">
      <i class="pi pi-calendar text-emerald-600"></i>
      <h2 class="m-0 text-[18px] md:text-[22px] font-extrabold text-slate-900">
        {{ timelineTitle }}
      </h2>
    </div>

    <div class="mt-5 space-y-4">
      <article
        *ngFor="let ph of phases; let i = index"
        class="rounded-3xl border border-black/5 bg-slate-900/[0.02] overflow-hidden"
      >
        <!-- header -->
        <div class="p-4 md:p-5 bg-gradient-to-l from-sky-500/10 via-white to-emerald-500/10">
          <div class="flex flex-wrap items-center justify-between gap-2">
            <div class="flex items-center gap-3">
              <div
                class="w-10 h-10 rounded-2xl grid place-items-center
                       bg-white border border-black/10 font-extrabold text-slate-900"
              >
                {{ i + 1 }}
              </div>
              <div>
                <div class="text-[16px] md:text-[18px] font-extrabold text-slate-900">
                  {{ ph.title }}
                </div>
                <div class="text-slate-700/80 font-bold">
                  {{ ph.range }}
                </div>
              </div>
            </div>

            <span
              class="inline-flex items-center gap-2 rounded-full px-3 py-1.5
                     bg-white/80 border border-black/10 text-[13px] font-extrabold text-slate-900"
              *ngIf="ph.focusNote"
            >
              <i class="pi pi-bolt text-amber-600"></i>
              <span class="leading-6">{{ ph.focusNote }}</span>
            </span>
          </div>

          <div *ngIf="ph.parentsFeel?.length" class="mt-3 flex flex-wrap gap-2">
            <span
              *ngFor="let x of ph.parentsFeel"
              class="rounded-full px-3 py-1.5 text-[13px] font-extrabold
                     bg-rose-500/10 border border-rose-500/15 text-slate-900"
            >
              {{ x }}
            </span>
          </div>
        </div>

        <!-- body -->
        <div class="p-4 md:p-5 grid grid-cols-1 lg:grid-cols-2 gap-3">
          <div *ngIf="ph.expected?.length" class="rounded-2xl bg-white border border-black/5 p-4">
            <div class="font-extrabold text-slate-900 mb-2">ÿßŸÑÿ™ÿ∫Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ŸàŸÇÿπÿ©</div>
            <ul class="space-y-1.5 text-slate-800/80 font-semibold leading-7">
              <li *ngFor="let x of ph.expected" class="flex gap-2">
                <span class="mt-2 w-2 h-2 rounded-full bg-sky-500/60 shrink-0"></span>
                <span>{{ x }}</span>
              </li>
            </ul>
          </div>

          <div *ngIf="ph.goals?.length" class="rounded-2xl bg-white border border-black/5 p-4">
            <div class="font-extrabold text-slate-900 mb-2">ÿ£ŸáÿØÿßŸÅ ÿßŸÑŸÖÿ±ÿ≠ŸÑÿ©</div>
            <ul class="space-y-1.5 text-slate-800/80 font-semibold leading-7">
              <li *ngFor="let x of ph.goals" class="flex gap-2">
                <span class="mt-2 w-2 h-2 rounded-full bg-emerald-500/60 shrink-0"></span>
                <span>{{ x }}</span>
              </li>
            </ul>
          </div>

          <div class="rounded-2xl bg-white border border-black/5 p-4 lg:col-span-2">
            <div class="font-extrabold text-slate-900 mb-2">‚úÖ ÿßŸÑÿ™ÿØÿÆŸÑ</div>
            <ul class="space-y-1.5 text-slate-800/80 font-semibold leading-7">
              <li *ngFor="let x of ph.intervention" class="flex gap-2">
                <span class="mt-2 w-2 h-2 rounded-full bg-amber-500/60 shrink-0"></span>
                <span>{{ x }}</span>
              </li>
            </ul>
          </div>

          <div *ngIf="ph.daily?.length" class="rounded-2xl bg-white border border-black/5 p-4 lg:col-span-2">
            <div class="font-extrabold text-slate-900 mb-2">üïäÔ∏è ÿßŸÑÿ™ÿ≠ŸÅŸäÿ≤ ÿßŸÑŸäŸàŸÖŸä</div>
            <ul class="space-y-1.5 text-slate-800/80 font-semibold leading-7">
              <li *ngFor="let x of ph.daily" class="flex gap-2">
                <span class="mt-2 w-2 h-2 rounded-full bg-teal-500/60 shrink-0"></span>
                <span>{{ x }}</span>
              </li>
            </ul>
          </div>

          <div *ngIf="ph.rule" class="rounded-2xl bg-indigo-500/10 border border-indigo-500/15 p-4 font-extrabold text-slate-900 lg:col-span-2">
            {{ ph.rule }}
          </div>

          <div *ngIf="ph.warning" class="rounded-2xl bg-rose-500/10 border border-rose-500/15 p-4 font-extrabold text-slate-900 lg:col-span-2">
            {{ ph.warning }}
          </div>

          <div *ngIf="ph.story" class="rounded-2xl bg-emerald-500/10 border border-emerald-500/15 p-4 font-extrabold text-slate-900 lg:col-span-2">
            {{ ph.story }}
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- FAMILY ROLES -->
  <section class="mt-4 rounded-3xl bg-white border border-black/5 shadow-sm p-5 md:p-6">
    <div class="flex items-center gap-2">
      <i class="pi pi-users text-sky-600"></i>
      <h2 class="m-0 text-[18px] md:text-[22px] font-extrabold text-slate-900">{{ familyTitle }}</h2>
    </div>

    <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
      <div *ngFor="let r of familyRoles" class="rounded-3xl border border-black/5 bg-slate-900/[0.02] p-4">
        <div class="flex items-center gap-2">
          <div class="w-10 h-10 rounded-2xl grid place-items-center bg-white border border-black/10">
            <i class="{{ r.icon }} text-emerald-600"></i>
          </div>
          <div class="text-[16px] font-extrabold text-slate-900">{{ r.role }}</div>
        </div>

        <ul class="mt-3 space-y-1.5 text-slate-800/80 font-semibold leading-7">
          <li *ngFor="let p of r.points" class="flex gap-2">
            <span class="mt-2 w-2 h-2 rounded-full bg-sky-500/60 shrink-0"></span>
            <span>{{ p }}</span>
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- MISTAKES -->
  <section class="mt-4 rounded-3xl bg-white border border-black/5 shadow-sm p-5 md:p-6">
    <div class="flex items-center gap-2">
      <i class="pi pi-exclamation-triangle text-rose-600"></i>
      <h2 class="m-0 text-[18px] md:text-[22px] font-extrabold text-slate-900">{{ mistakesTitle }}</h2>
    </div>

    <div class="mt-4 flex flex-wrap gap-2">
      <span
        *ngFor="let m of mistakes"
        class="rounded-full px-3 py-1.5 text-[13px] font-extrabold
               bg-rose-500/10 border border-rose-500/15 text-slate-900"
      >
        ‚ùå {{ m }}
      </span>
    </div>
  </section>

  <!-- FINAL -->
  <footer class="mt-4 rounded-3xl border border-black/5 shadow-sm overflow-hidden bg-white">
    <div class="p-5 md:p-7 bg-gradient-to-br from-emerald-500/10 via-white to-amber-500/10">
      <div class="flex items-center gap-2">
        <i class="pi pi-star-fill text-amber-500"></i>
        <h2 class="m-0 text-[18px] md:text-[22px] font-extrabold text-slate-900">{{ finalTitle }}</h2>
      </div>

      <p class="mt-3 mb-0 text-slate-900/90 font-extrabold leading-8 text-[16px] md:text-[18px]">
        {{ finalText }}
      </p>
    </div>
  </footer>
</section>
